<div class="card-container">
    <img class="profile-img-card" src="https://aplikasicerdas.net/warehouse/assets/images/admin.png" alt="" />
    <form 
        *ngIf="!isSuccessful"
        [formGroup] = "registerFormGroup"
        (ngSubmit)="registerFormGroup.valid && onSubmit()"
        >

        <div class="names">
            <mat-form-field appearance="fill">
                <mat-label>First Name</mat-label>
                <input matInput
                    placeholder="John"
                    formControlName="firstName"
                    required>
                <mat-error *ngIf="registerFormGroup.get('firstName')?.invalid">First Name is required</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Last Name</mat-label>
                <input matInput
                    placeholder="Smith"
                    formControlName="lastName"
                    required>
                <mat-error *ngIf="registerFormGroup.get('lastName')?.invalid">Last Name is required</mat-error>
            </mat-form-field>
        </div>

        <div class="form-group">
            <mat-form-field appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput
                    placeholder="abc@example.com"
                    formControlName="email"
                    required>
                <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
                <mat-error *ngIf="registerFormGroup.get('email')?.invalid">Email is not valid</mat-error>
            </mat-form-field>
        </div>

        <div class="passwords">
            <mat-form-field appearance="fill">
                <mat-label>Password</mat-label>
                <input matInput 
                    [type]="hidePassword1 ? 'password' : 'text'"
                    formControlName="password"
                    required>
                <button mat-icon-button matSuffix (click)="hidePassword1 = !hidePassword1" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword1">
                    <mat-icon>{{hidePassword1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Confirm Password</mat-label>
                <input matInput 
                    [type]="hidePassword2 ? 'password' : 'text'"
                    formControlName="passwordConfirm"
                    required>
                <button mat-icon-button matSuffix (click)="hidePassword2 = !hidePassword2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword2">
                    <mat-icon>{{hidePassword2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
            </mat-form-field>
        </div>

        <div class="form-group">
            <mat-form-field appearance="fill">
                <mat-label>Address</mat-label>
                <textarea matInput
                    formControlName="address"
                    required></textarea>
                <mat-error *ngIf="registerFormGroup.get('address')?.invalid">Address is required</mat-error>
            </mat-form-field>
        </div>

        <div class="form-group">
            <mat-form-field appearance="fill">
                <mat-label>Mobile</mat-label>
                <input matInput
                    placeholder="0710123456"
                    formControlName="mobile"
                    required>
                <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
                <mat-error *ngIf="registerFormGroup.get('mobile')?.invalid">Mobile number is required</mat-error>
            </mat-form-field>
        </div>

        <div class="buttons">
            <button mat-button class="register" type="submit" [disabled]="!registerFormGroup.valid">Register</button>
            <button mat-button class="clear" (click)="clearForm()">Clear</button>
        </div>


        <!-- <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
            Register failed! <br /> {{ errorMessage }}
        </div> -->
        
    </form>

    <div class="alert alert-success" *ngIf="isSuccessful">
        Registration success! (login again ?)
    </div>
</div>



<!-- <div class="col-md-12">
    <div class="card card-container">
        <img class="profile-img-card" src="//ssl.gstatic.com/accounts/ui/avatar_2x.png" alt="" />
        <form 
            *ngIf="!isSuccessful"
            name="form"
            (ngSubmit)="f.form.valid && onSubmit()"
            #f="ngForm"
            novalidate>

            <div class="form-group">

                <label for="username">Username</label>
                <input type="text" 
                    class="form-control"
                    name="username"
                    [(ngModel)]="form.firstName"
                    required
                    minlength="3"
                    maxlength="20"
                    #username="ngModel" 
                />

                <div class="alert-danger" *ngIf="username.errors && f.submitted">
                    <div *ngIf="username.errors.required">Username is required</div>
                    <div *ngIf="username.errors.minlength">
                        Username must be at least 3 charactors
                    </div>
                    <div *ngIf="username.errors.maxlength">
                        Username must be at most 20 charactors
                    </div>
                </div>



            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email"
                    class="form-control"
                    name="email"
                    [(ngModel)]="form.email"
                    required
                    email
                    #email="ngModel" 
                />
                
                <div class="alert-danger" *ngIf="email.errors && f.submitted">
                    <div *ngIf="email.errors.required">Email is required</div>
                    <div *ngIf="email.errors.email"> Email must be a valid address</div>
                </div>
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password"
                    class="form-control"
                    name="password"
                    [(ngModel)]="form.password"
                    required
                    minlength="6"
                    #password="ngModel" 
                />

                <div class="alert-danger" *ngIf="password.errors && f.submitted">
                    <div *ngIf="password.errors.required">Password required</div>
                    <div *ngIf="password.errors.minlength">Password at least 6 chars</div>
                </div>
            </div>

            <div class="form-group">
                <button class="btn btn-primary btn-block">Sign Up</button>
            </div>

            <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
                Register failed! <br /> {{ errorMessage }}
            </div>
            
        </form>

        <div class="alert alert-success" *ngIf="isSuccessful">
            Registration success! (login again ?)
        </div>
    </div>
</div> -->